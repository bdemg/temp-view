{% extends "common/index.html" %}

{% block title %}Reporte de Temperaturas{% endblock %}

{% block body %}
<div class="row" ng-app="TempView">
  <div class="columns large-22"><h2>Reportes</h2></div>
  <div class="columns large-22" layout="row" layout-align="space-around start">
    <div flex="30">
      <label for="id_sensor">Sensor:</label>
      <select name="sensor" id="id_sensor" ng-model="sensor">
        <option value selected>-------</option>
        {% for sensor in sensors %}
        <option value="{{sensor.id}}">Edificio:{{sensor.building.name}} - Sal√≥n:{{sensor.room.name}}</option>
        {% endfor %}
      </select>
    </div>
    <div flex="30">
      <label for="id_start_date" ng-model="startDate">Fecha de inicio:</label>
      <input type="date" name="start_date" id="id_start_date">
    </div>
    <div flex="30">
      <label for="id_end_date" ng-model="endDate">Fecha final:</label>
      <input type="date" name="end_date" id="id_end_date">
    </div>
    <div flex="9">
      <input ng-click="getTemperatureReadouts()" type="button" name="button" class="button success" style="margin-top:1.4rem" value="Aceptar">
    </div>
  </div>
  <table>
    <thead>
      <th>Sensor</th>
      <th>Temperatura</th>
      <th>Humedad</th>
      <th>Fecha</th>
    </thead>
    <tbody ng-repeat="readout in tempReadouts">
        <tr>[[readout.fields.sensor_location]]</tr>
        <tr>[[readout.fields.temperature | number]]</tr>
        <tr>[[readout.fields.humidity]]</tr>
        <tr>[[readout.fields.timestamp]]</tr>
    </tbody>
  </table>
</div>
{% endblock %}
